<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Главная</title>
    <link rel="stylesheet" type="text/css" href="css/header_footer.css" />
    <link rel="stylesheet" type="text/css" href="css/main.css" />
    <link rel="stylesheet" type="text/css" href="css/responsive/header_footer.css" />
    
</head>
<body>
    <header class="container-fluid">
        <div class="container d-flex">
            <img src="images/main/Logo.png" alt="logo" height="40"/>
            <img class="burgerIcon" src="images/main/burger_menu.png" alt="menu" />
            <nav class="menu">
                <a class="active" href="index.html">Каталог</a>
                <a href="about_us.html">О нас</a>
                <a href="Payment_and_delivery.html">Оплата и доставка</a>
                <a href="contacts.html">Контакты</a>
            </nav>
            <form name="search" method="get">
                <div class="d-flex">
                    <input 
                        type="text"
                        id="search-input" 
                        name="search"
                        placeholder="Поиск по каталогу"
                        oninput="filterProducts()" />
                    <input type="submit" name="search" value="">
                </div>
            </form>
            <div class="cart d-flex">
                <img src="images/main/pokupka.png" alt="Cart" height="30" onclick="toggleCart()" />
                <div>
                    <p id="total-price">0 руб</p>
                    <a href="#" onclick="showCart()">Оформить заказ</a>
                </div>
            </div>
            
            <div id="cart-items" style="display: none;">
                <h3>Ваша корзина</h3>
                <ul id="cart-list"></ul>
                <button onclick="clearCart()">Очистить корзину</button>
            </div>
        </div>  
    </header>

    <main class="container-fluid">
        <div class="container">
            <div class="block1 d-flex">
                <nav class="menu">
                    <a href="index.html">Запчасти для ТО</a>
                    <a href="engine_details.html">Двигатель</a>
                    <a href="fuel_system.html">Топливная система</a>
                    <a class="active" href="transmission.html">Трансмисия</a>
                    <a href="undercarriage.html">Ходовая часть</a>
                </nav>
                <div class="items">
                    <div class="sort">
                        <p>Сортировать по цене: 
                            <button onclick="sortProducts('asc')">По возрастанию</button>
                            <button onclick="sortProducts('desc')">По убыванию</button>
                        </p>
                    </div>
                    <div class="boxes d-flex">
                        <div class="box">
                            <figure>
                                <img src="images/main/golovka_bloka_cilindr.jpg" width="270" alt="головка блока цилиндров" />

                                <figcaption>
                                    <p><span class="price">15330.00</span> руб</p>
                                </figcaption>
                                <p class="title"> Головка блока 1118 в сборе </p>
                                <button onclick="addToCart('Головка блока 1118 в сборе', 15330.00)">В корзину</button>

                            </figure>
                        </div>
                        <div class="box">
                            <figure>
                                <img src="images/main/prokladka_bloka.jpg" width="270" alt="прокладка блока цилиндров" />

                                <figcaption>
                                    <p><span class="price">199.99</span> руб</p>
                                </figcaption>
                                <p class="title"> Прокладка блока цилиндров </p>
                                <button onclick="addToCart('прокладка блока цилиндров', 199.00)">В корзину</button>

                            </figure>
                        </div>
                        <div class="box">
                            <figure>
                                <img src="images/main/prokalda_vipuska.jpg" width="255" alt="прокаладка выпусного коллектора" />

                                <figcaption>
                                    <p><span class="price">125.99</span> руб</p>
                                </figcaption>
                                <p class="title"> Прокладка впускного коллектора </p>
                                <button onclick="addToCart('прокладка впускного коллектора', 125.99)">В корзину</button>

                            </figure>
                        </div>
                        <div class="box">
                            <figure>
                                <img src="images/main/kollektor_vipuska.jpg " width="270" alt="коллектор выпуска" />

                                <figcaption>
                                    <p><span class="price">1450.99</span> руб</p>
                                </figcaption>
                                <p class="title"> Коллектор выпускной ваз </p>
                                <button onclick="addToCart('коллектор выпускной ваз', 1450.99)">В корзину</button>

                            </figure>
                        </div>
                        <div class="box">
                            <figure>
                                <img src="images/main/koleno.jpg" width="270" alt="Коленвал" />

                                <figcaption>
                                    <p><span class="price">21000.00</span> руб</p>
                                </figcaption>
                                <p class="title"> Коленвал Лада</p>
                                <button onclick="addToCart('Коленвал Лада', 21000.00)">В корзину</button>

                            </figure>
                        </div>
                        <div class="box">
                            <figure>
                                <img src="images/main/katushka 1.jpg" width="270" alt="катушка зажигания" />

                                <figcaption>
                                    <p><span class="price">3120.00</span> руб</p>
                                </figcaption>
                                <p class="title"> Катушка зажигания Лада </p>
                                <button onclick="addToCart('катушка зажигания Лада', 3120.00)">В корзину</button>

                            </figure>
                        </div>
                        <div class="box">
                            <figure>
                                <img src="images/main/remen_grm.jpg" width="270" alt="ремень грм" />

                                <figcaption>
                                    <p><span class="price">1420.00</span> руб</p>
                                </figcaption>
                                <p class="title"> Ремень ГРМ Powergrid </p>
                                <button onclick="addToCart('Ремень ГРМ Powergrid', 1420.00)">В корзину</button>

                            </figure>
                        </div>
                        <div class="box">
                            <figure>
                                <img src="images/main/porshni.jpg" width="270" alt="поршни" />

                                <figcaption>
                                    <p><span class="price">2820.00</span> руб</p>
                                </figcaption>
                                <p class="title"> Порши Лада D-79.4 </p>
                                <button onclick="addToCart('Поршни Лада D-79.4', 2820.00)">В корзину</button>

                            </figure>
                        </div>
                        <div class="box">
                            <figure>
                                <img src="images/main/gilza.jpg" width="270" alt="гильзы" />

                                <figcaption>
                                    <p><span class="price">2150.00</span> руб</p>
                                </figcaption>
                                <p class="title"> Гильзы цилиндров 79.00мм </p>
                                <button onclick="addToCart('Гильзы цилиндров 79.00mm', 2150.00)">В корзину</button>

                            </figure>
                        </div>
                        
                    </div>
                    <div class="pagination">

                    </div>
                </div>
            </div>
        </div>
    </main>


    <footer class ='container-fluid'>
        <div class="container d-flex">
            <div class="left d-flex">
                <figure>
                    <img src="images/main/Logo.png" alt="logo"  height="40"/>
                    <figcaption>Интернет магазин авто-запчастей</figcaption>
                </figure>
                <nav>
                    <a class="active" href="#">Каталог</a>
                    <a href="#">О нас</a>
                    <a href="#">Оплата и доставка</a>
                    <a href="#">Контакты</a>
                    <a href="#">Политика конфиденциальности</a>
                </nav>
            

            </div>
            <div class="right">
                <div>
                    <p>Следите за нами в соц сетях:</p>
                </div>

                <div class="icons">
                    <img src="images/main/icons8-телеграм-150.png" alt="tg" height="60"/>
                    <img src="images/main/icons8-vk-128.png" alt="vk" height="70"/>
                </div>
            </div>
        </div>
    
    </footer>





</body>
</html> 

<script>
    function filterProducts() {
        const input = document.getElementById('search-input');
        const filter = input.value.toLowerCase(); // Преобразуем введённый текст в нижний регистр
        const products = document.querySelectorAll('.box'); // Получаем все карточки товаров

        products.forEach(product => {
            // Извлекаем название товара и цену
            const title = product.querySelector('.title').textContent.toLowerCase();
            const price = product.querySelector('.price').textContent.toLowerCase();

            // Если текст совпадает с названием или ценой, показываем товар, иначе скрываем
            if (title.includes(filter) || price.includes(filter)) {
                product.style.display = ''; // Показываем карточку
            } else {
                product.style.display = 'none'; // Скрываем карточку
            }
        });
    }
</script>

<script>
    // Массив для хранения товаров в корзине
    let cart = [];

    // Функция добавления товара в корзину
    function addToCart(productTitle, productPrice) {
        // Добавляем товар в массив корзины
        cart.push({ title: productTitle, price: parseFloat(productPrice) });

        // Обновляем отображение корзины
        updateCart();
    }

    // Функция обновления корзины
    function updateCart() {
        const cartList = document.getElementById('cart-list');
        const totalPriceElement = document.getElementById('total-price');

        // Очищаем список товаров
        cartList.innerHTML = '';

        // Общая стоимость товаров
        let totalPrice = 0;

        // Генерируем список товаров
        cart.forEach((item, index) => {
            const li = document.createElement('li');
            li.textContent = `${item.title} - ${item.price.toFixed(2)} руб`;

            // Кнопка для удаления товара
            const removeButton = document.createElement('button');
            removeButton.textContent = 'Удалить';
            removeButton.onclick = () => removeFromCart(index);

            li.appendChild(removeButton);
            cartList.appendChild(li);

            // Суммируем стоимость
            totalPrice += item.price;
        });

        // Обновляем общую стоимость
        totalPriceElement.textContent = `${totalPrice.toFixed(2)} руб`;
    }

    // Функция удаления товара из корзины
    function removeFromCart(index) {
        cart.splice(index, 1); // Удаляем товар из массива
        updateCart(); // Обновляем корзину
    }

    // Очистка корзины
    function clearCart() {
        cart = [];
        updateCart();
    }

    // Показать или скрыть корзину
    function toggleCart() {
        const cartItems = document.getElementById('cart-items');
        cartItems.style.display = cartItems.style.display === 'none' ? 'block' : 'none';
    }
</script>



<script>
    function sortProducts(order) {
        const productsContainer = document.querySelector('.boxes'); // Контейнер с товарами
        const products = Array.from(productsContainer.querySelectorAll('.box')); // Все товары

        // Сортируем массив товаров
        products.sort((a, b) => {
            const priceA = parseFloat(a.querySelector('.price').textContent);
            const priceB = parseFloat(b.querySelector('.price').textContent);
            return order === 'asc' ? priceA - priceB : priceB - priceA;
        });

        // Удаляем старые товары из контейнера
        productsContainer.innerHTML = '';

        // Добавляем отсортированные товары обратно
        products.forEach(product => productsContainer.appendChild(product));
    }
</script>
