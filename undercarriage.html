<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Главная</title>
    <link rel="stylesheet" type="text/css" href="css/header_footer.css" />
    <link rel="stylesheet" type="text/css" href="css/main.css" />
    <link rel="stylesheet" type="text/css" href="css/responsive/header_footer.css" />
</head>
<body>
    <!-- HEADER -->
    <header class="container-fluid">
        <div class="container d-flex">
            <img src="images/main/Logo.png" alt="logo" height="40"/>
            <img class="burgerIcon" src="images/main/burger_menu.png" alt="menu" />
            <nav class="menu">
                <a class="active" href="index.html">Каталог</a>
                <a href="about_us.html">О нас</a>
                <a href="Payment_and_delivery.html">Оплата и доставка</a>
                <a href="contacts.html">Контакты</a>
            </nav>
            <form name="search" method="get">
                <div class="d-flex">
                    <input 
                        type="text"
                        id="search-input" 
                        name="search"
                        placeholder="Поиск по каталогу"
                        oninput="filterProducts()" />
                    <input type="submit" name="search" value="">
                </div>
            </form>
            <div class="cart d-flex">
                <img src="images/main/pokupka.png" alt="Catr" height="30"/>
                <div>
                    <p>1000rub</p>
                    <a href="#">Оформить заказ</a>
                </div>
            </div>  
        </div>  
    </header>


    <main class="container-fluid">
        <div class="container">
            <div class="block1 d-flex">
                <nav class="menu">
                    <a href="index.html">Запчасти для ТО</a>
                    <a href="engine_details.html">Двигатель</a>
                    <a href="fuel_system.html">Топливная система</a>
                    <a class="active" href="transmission.html">Трансмисия</a>
                    <a href="undercarriage.html">Ходовая часть</a>
                </nav>
                <div class="items">
                    <div class="sort">
                        <p>Сортировать по цене: 
                            <button onclick="sortProducts('asc')">По возрастанию</button>
                            <button onclick="sortProducts('desc')">По убыванию</button>
                        </p>
                    </div>
                    <div class="boxes d-flex">
                        <div class="box">
                            <figure>
                                <img src="images/main/balka_zad.jpg" width="270" alt="балка задняя" />

                                <figcaption>
                                    <p><span class="price">7500.00</span> руб</p>
                                </figcaption>
                                <p class="title"> Балка заднего моста Лада </p>
                                <button> В корзину</button>
                            </figure>
                        </div>
                        <div class="box">
                            <figure>
                                <img src="images/main/balka_pered.jpg" width="270" alt="передняя балка" />

                                <figcaption>
                                    <p><span class="price">6800.00</span> руб</p>
                                </figcaption>
                                <p class="title"> Балка переднего моста Лада </p>
                                <button> В корзину</button>
                            </figure>
                        </div>
                        <div class="box">
                            <figure>
                                <img src="images/main/amort_zad.jpg" width="270" alt="задний амортизатор" />

                                <figcaption>
                                    <p><span class="price">2230.00</span> руб</p>
                                </figcaption>
                                <p class="title"> Задний амортизатор Лада 1шт </p>
                                <button> В корзину</button>
                            </figure>
                        </div>
                        <div class="box">
                            <figure>
                                <img src="images/main/amort_pered.jpg" width="270" alt="передний амортизатор" />

                                <figcaption>
                                    <p><span class="price">2999.99</span> руб</p>
                                </figcaption>
                                <p class="title"> Передний амортизатор 1шт </p>
                                <button> В корзину</button>
                            </figure>
                        </div>
                        <div class="box">
                            <figure>
                                <img src="images/main/prussini_zad.jpg" width="270" alt="пружины задние" />

                                <figcaption>
                                    <p><span class="price">2400.00</span> руб</p>
                                </figcaption>
                                <p class="title"> Задние пружины Лада </p>
                                <button> В корзину</button>
                            </figure>
                        </div>
                        <div class="box">
                            <figure>
                                <img src="images/main/prussini_pered.jpg" width="270" alt="передние пружины" />

                                <figcaption>
                                    <p><span class="price">2560.00</span> руб</p>
                                </figcaption>
                                <p class="title"> Пружины Лада </p>
                                <button> В корзину</button>
                            </figure>
                        </div>
                        
                    </div>
                    <div class="pagination">


                    </div>
                </div>
            </div>
        </div>
    </main>


    <footer class ='container-fluid'>
        <div class="container d-flex">
            <div class="left d-flex">
                <figure>
                    <img src="images/main/Logo.png" alt="logo"  height="40"/>
                    <figcaption>Интернет магазин авто-запчастей</figcaption>
                </figure>
                <nav>
                    <a class="active" href="#">Каталог</a>
                    <a href="#">О нас</a>
                    <a href="#">Оплата и доставка</a>
                    <a href="#">Контакты</a>
                    <a href="#">Политика конфиденциальности</a>
                </nav>
            

            </div>
            <div class="right">
                <div>
                    <p>Следите за нами в соц сетях:</p>
                </div>

                <div class="icons">
                    <img src="images/main/icons8-телеграм-150.png" alt="tg" height="60"/>
                    <img src="images/main/icons8-vk-128.png" alt="vk" height="70"/>
                </div>
            </div>
        </div>
    
    </footer>

    
</body>
</html> 

<script>
    function filterProducts() {
        const input = document.getElementById('search-input');
        const filter = input.value.toLowerCase(); // Преобразуем введённый текст в нижний регистр
        const products = document.querySelectorAll('.box'); // Получаем все карточки товаров

        products.forEach(product => {
            // Извлекаем название товара и цену
            const title = product.querySelector('.title').textContent.toLowerCase();
            const price = product.querySelector('.price').textContent.toLowerCase();

            // Если текст совпадает с названием или ценой, показываем товар, иначе скрываем
            if (title.includes(filter) || price.includes(filter)) {
                product.style.display = ''; // Показываем карточку
            } else {
                product.style.display = 'none'; // Скрываем карточку
            }
        });
    }
</script>

<script>
    function sortProducts(order) {
        const productsContainer = document.querySelector('.boxes'); // Контейнер с товарами
        const products = Array.from(productsContainer.querySelectorAll('.box')); // Все товары

        // Сортируем массив товаров
        products.sort((a, b) => {
            const priceA = parseFloat(a.querySelector('.price').textContent);
            const priceB = parseFloat(b.querySelector('.price').textContent);
            return order === 'asc' ? priceA - priceB : priceB - priceA;
        });

        // Удаляем старые товары из контейнера
        productsContainer.innerHTML = '';

        // Добавляем отсортированные товары обратно
        products.forEach(product => productsContainer.appendChild(product));
    }
</script>